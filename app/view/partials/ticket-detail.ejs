    <!-- Modal -->
    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog modal-lg">
    
          <!-- Modal content-->
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h4>Ticket details</h4>
            </div>
            <div class="modal-body" style="background-color:#ffffff">
                <div id="to-print" >
                <div class="row">
                    <div class="col-md-6">
                        <p>Id  <span id="ticketId"> </span></p>
                        <p>Ticket No.  <span id="ticket_id"> </span></p>
                        <p>Job Created <span id="born_date"> </span></p>
                        <p>Completed on <span id=""> </span></p>
                        <p>Invoice Rate <span id="invoice_rate"> </span></p>
                        <p>Miles <span id="product"> </span></p>
                        <p>Base <span id="base"> </span></p>
                        <p>Silo <span id="silo"> </span></p>
                        <p>Coments <span id="comments"> </span></p>
                    </div>
                    <div class="col-md-6">
                        <p>Load No. <span id="tmsNo"> </span></p>
                        <p>Client <span id="client"> </span></p>
                        <p>Address <span id="address"> </span></p>
                        <p>P.O. <span id="po"> </span></p>
                        <p>Facility <span id="origin"> </span></p>
                        <p>Location <span id="destination"> </span></p>
                        <p>B.O.L. <span id="bol"> </span></p>
                        <p>Sand Type <span id="sand"> </span></p>
                        <p>Weight <span id="weight"> </span></p>
                    </div>
                </div>
                <div class="row">
                    <div class = "container col-md-12">
                    <div class="row bs-wizard" style="border-bottom:0;">
                
                        <div id="step1" class="col-xs-2 bs-wizard-step disabled">
                            <div class="text-center bs-wizard-stepnum">To be Assinged </div>
                            <div class="progress"><div class="progress-bar"></div></div>
                            <a href="#" class="bs-wizard-dot"></a>
                            <div class="bs-wizard-info text-center"> <span id="assigned"></span></div>
                        </div>
                        
                        <div id="step2" class="col-xs-2 bs-wizard-step disabled"><!-- complete -->
                            <div class="text-center bs-wizard-stepnum">Work in progress</div>
                            <div class="progress"><div class="progress-bar"></div></div>
                            <a href="#" class="bs-wizard-dot"></a>
                            <div class="bs-wizard-info text-center"> <span id="workInProgress"></span></div>
                        </div>
                        
                        <div id="step3" class="col-xs-2 bs-wizard-step disabled"><!-- complete -->
                            <div class="text-center bs-wizard-stepnum">Completed</div>
                            <div class="progress"><div class="progress-bar"></div></div>
                            <a href="#" class="bs-wizard-dot"></a>
                            <div class="bs-wizard-info text-center"> <span id="completed"></span></div>
                        </div>
                        
                        <div id="step4" class="col-xs-2 bs-wizard-step disabled"><!-- active -->
                            <div class="text-center bs-wizard-stepnum">To be invoiced</div>
                            <div class="progress"><div class="progress-bar"></div></div>
                            <a href="#" class="bs-wizard-dot"></a>
                            <div class="bs-wizard-info text-center"> <span id="invoiced"></span></div>
                        </div>
    
                        <div id="step5" class="col-xs-2 bs-wizard-step disabled"><!-- active -->
                            <div class="text-center bs-wizard-stepnum">To be Payrolled</div>
                            <div class="progress"><div class="progress-bar"></div></div>
                            <a href="#" class="bs-wizard-dot"></a>
                            <div class="bs-wizard-info text-center"> <span id="payrolled"></span></div>
                        </div>
    
                        <div id="step6" class="col-xs-2 bs-wizard-step disabled"><!-- active -->
                            <div class="text-center bs-wizard-stepnum">To be Paid</div>
                            <div class="progress"><div class="progress-bar"></div></div>
                            <a href="#" class="bs-wizard-dot"></a>
                            <div class="bs-wizard-info text-center"> <span id="paid"></span></div>
                        </div>
                    </div>
                    </div>
                    
                </div>
                <div class="row">
                    <div class="col-md-12 text-center">
                        <h4>Driver - Truck - Millage</h4>
                    </div>
                    <div class="col-md-6">
                        <p>Driver <span id="driver"> </span></p>
                        <p>Crew <span id="crew"> </span></p>
                        <p>Shift <span id="shift"> </span></p>
                    </div>
                    <div class="col-md-3">
                        <p>Truck <span id="truck"> </span></p>
                        <p>Trailer <span id="trailer"> </span></p>
                        <p>Amount Payrolled <span id="amountPayrolled"> </span></p>
                    </div>
                    <div class="col-md-3">
                        <p>Starting Milles <span id="starttingMilles"> </span></p>
                        <p>Ending Milles <span id="endingMilles"> </span></p>
                        <p>Date <span id="date"> </span></p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12 text-center">
                        <h4>Timeline Events</h4>
                    </div>
                    <div class="col-md-12">
                        <table id='grid-basic' border="1" class="table table-bordered table-condensed table-hover table-striped" >
                            <thead>
                                <tr>
                                    <th data-column-id="no">No.</th>
                                    <th data-column-id="evento">Event</th>
                                    <th data-column-id="date">Timestamp 1</th>
                                    <th data-column-id="date2">Timestamp 2</th>
                                    <th data-column-id="longitude">longitude</th>
                                    <th data-column-id="latitude">latitude</th>
                                    <th data-column-id="notes">notes</th>
                                </tr>
                            </thead>
                            <tbody id="timeline">
                                
                            </tbody>
                        </table>
                    </div>
            </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                <button id="ticket-to-pdf" type="button" class="btn btn-success">Download</button>
            </div>
          </div>
        </div>
    </div> 
        
        <!-- 
            Consultar un ticket por Id y cargarlos en el modal
        -->
        <script>
            $( document ).ready(function() {
            $('#myModal').on('shown.bs.modal', function (e) {

                var $trigger = $(e.relatedTarget);
                
                // Obtiene el detalle del ticket
                $.getJSON('/api/dispatcher/getTicketDetail/' + $trigger.data('ticket'), function(data) {
    
                    //console.log(data);
                    $('#ticketId').html('<strong>' + data.ticket[0].id + '</strong>');
                    $('#ticket_id').html(
                        "<strong><a data-pk=" + data.ticket[0].id + " data-title='Update Ticket No.' "+
                        "data-type='text' class='black-link' "+
                        "href='#' id='update-ticket_id' data-name='ticket_id'>"+data.ticket[0].ticket_id+"</a></strong>"  
                    );
                    $('#born_date').html('<strong>' + data.ticket[0].born_date + '</strong>');
                    $('#invoice_rate').html('<strong>' + data.ticket[0].invoice_rate + '</strong>');
                    $('#product').html('<strong>' + data.ticket[0].product+ '</strong>'); //TODO: hay que ver si este producto es el correc to
                    $('#base').html(
                        "<strong><a data-pk=" + data.ticket[0].id + " data-title='Update base' "+
                        "data-type='text' class='black-link' "+
                        "href='#' id='update-base' data-name='base'>"+data.ticket[0].base+"</a></strong>"    
                    );
                    $('#silo').html(
                        "<strong><a data-pk=" + data.ticket[0].id + " data-title='Update silo' "+
                        "data-type='text' class='black-link' "+
                        "href='#' id='update-silo' data-name='silo' >"+data.ticket[0].silo+"</a></strong>"
                    );
                    $('#comments').html(
                        "<strong><a data-pk=" + data.ticket[0].id + " data-title='Update comments' "+
                        "data-type='textarea' class='black-link' "+
                        "href='#' id='update-comments' data-name='notes'>"+data.ticket[0].notes+"</a></strong>"
                    );
                    $('#tmsNo').html('<strong>' + data.ticket[0].tms + '</strong>');
                    $('#client').html('<strong>' + data.ticket[0].client_name +'</strong>') //TODO: Aqui hay que mostar el nombre del clien te
                    $('#address').html('<strong>' + data.ticket[0].client_address +'</strong>'); //TODO: hay que mostrar lso datos del clien te
                    $('#po').html('<strong>' + data.ticket[0].po + '</strong>');
                    $('#origin').html('<strong>' + data.ticket[0].facility + '</strong>');
                    $('#destination').html('<strong>' + data.ticket[0].location + '</strong>');
                    $('#bol').html(
                        "<strong><a data-pk=" + data.ticket[0].id + " data-title='Update B.O.L.' "+
                        "data-type='text' class='black-link' "+
                        "href='#' id='update-bol' data-name='bol'>"+data.ticket[0].bol+"</a></strong>"
                    );
                    $('#sand').html('<strong>' + data.ticket[0].sand_type + '</strong>');
                    $('#weight').html(
                        "<strong><a data-pk=" + data.ticket[0].id + " data-title='Update weight' "+
                        "data-type='number' class='black-link' "+
                        "href='#' id='update-weight' data-name='weight'>"+data.ticket[0].weight+"</a></strong>"
                    );
                    $('#assigned').html('<strong>' + data.ticket[0].assign_date + '</strong>');
                    $('#workInProgress').html('<strong>' + "" + '</strong>'); // TODO: hay que ver de donde sacar este da to
                    $('#completed').html('<strong>' + data.ticket[0].completed_date + '</strong>');
                    $('#invoiced').html('<strong>' + data.ticket[0].invoice_date + '</strong>');
                    $('#payrolled').html('<strong>' + data.ticket[0].payrolled_date + '</strong>');
                    $('#paid').html('<strong>' + ""); // TODO: hay que ver de donde sacar este da + '</strong>'to
                    $('#driver').html('<strong>' + data.ticket[0].driver_name + '</strong>');
                    $('#crew').html('<strong>' + data.ticket[0].crew + '</strong>');
                    $('#shift').html('<strong>' + data.ticket[0].shift + '</strong>');
                    $('#truck').html('<strong>' + data.ticket[0].truck + '</strong>'); // TODO: hay que ver de donde sacar este da to
                    $('#trailer').html('<strong>' + data.ticket[0].trailer + '</strong>'); // TODO: hay que ver de donde sacar este da to
                    $('#amountPayrolled').html('<strong>' + "" + '</strong>'); // TODO: hay que ver de donde sacar este dat o;
                    $('#starttingMilles').html('<strong>' + data.ticket[0].starting_mi + '</strong>');
                    $('#endingMilles').html('<strong>' + data.ticket[0].end_mi + '</strong>');
                    $('#date').html('<strong>' + data.ticket[0].assign_date + '</strong>');
    
                    // las 3 opciones para el process step
                    //complete
                    //active
                    //disabled
    
                    $(".bs-wizard-step").each(function (index,element) {
                        
                        var status = data.ticket[0].status;
                        if (status <= 4) {
                            status +1;
                        }
    
                        if (index+1 == status){
                            $(this).removeClass("disabled");
                            $(this).addClass("active");
                        }
                        if (index+1 < status){
                            $(this).removeClass("disabled");
                            $(this).addClass("complete");
                        }
                    });
    
                    // x-editable
                    $('#update-comments, #update-silo, #update-base, #update-bol, #update-weight, #update-ticket_id').editable({
                        url: '/api/administrative/updateticket/',
                        send: 'always',
                        success: function(response, newValue) {
                            if (response.status == 'error') return response.msg; //msg will be shown in editable form
                        }
                    });

                });

                // obtiene los eventos del ticket
                $.getJSON('/api/dispatcher/getEventsDetail/' + $trigger.data('ticket'), function(data) {
                    
                    if(data.events.length === undefined || 
                        data.events.length === null ||
                        typeof data.events.length !== 'number' ||
                        data.events.length < 1) {
                            return 0
                        }
                    else {
                        for (var x = 0; x < data.events.length; x++) {
                            var number = x+1;
                            var evento = "<tr>"
                            evento += "<td class='table_tms'>"+number+"</td>";
                            evento += "<td class='table_evento'>"+data.events[x].evento+"</td>";
                            evento += "<td class='table_date1'>"+data.events[x].date+"</td>";
                            evento += "<td class='table_date2'>"+data.events[x].date2+"</td>";
                            evento += "<td class='table_longitude'>"+data.events[x].longitude+"</td>";
                            evento += "<td class='table_latitude'>"+data.events[x].latitude+"</td>";
                            evento += "<td class='table_notes'>"+data.events[x].notes+"</td>";
                            evento += "</tr>";
                            $("#timeline").append(evento);
                        }
                    }
                });
            })
    
            // Limpia los steps y les asigna la clase disabled
            $('#myModal').on('hide.bs.modal', function (e) {
                $(".bs-wizard-step").each(function (index,element) {
                    $(this).removeClass("complete");
                    $(this).removeClass("active");
                    $(this).removeClass("disabled");
                });
    
                $(".bs-wizard-step").each(function (index,element) {
                    $(this).addClass("disabled");
                });

                $("#timeline").html("");

                // Cleans the modal
                $('#ticketId').html("")
                $('#ticket_id').html("");
                $('#born_date').html("");
                $('#invoice_rate').html("");
                $('#product').html("");
                $('#base').html("");
                $('#silo').html("");
                $('#comments').html("");
                $('#tmsNo').html("");
                $('#client').html("");
                $('#address').html("");
                $('#po').html("");
                $('#origin').html("");
                $('#destination').html("");
                $('#bol').html("");
                $('#sand').html("");
                $('#weight').html("");
                $('#assigned').html("");
                $('#workInProgress').html("");
                $('#completed').html("");
                $('#invoiced').html("");
                $('#payrolled').html("");
                $('#paid').html("");
                $('#driver').html("");
                $('#crew').html("");
                $('#shift').html("");
                $('#truck').html("");
                $('#trailer').html("");
                $('#amountPayrolled').html("");
                $('#starttingMilles').html("");
                $('#endingMilles').html("");
                $('#date').html("");
            });


            $('#ticket-to-pdf').on('click', function(){

                //portrait, a4, 
                //var doc = new jsPDF(orientation, unit, format, compress);

                // Default export is a4 paper, portrait, using milimeters for units

                var doc = new jsPDF('p', 'mm', 'letter'); // tamaño carta por default
                doc.setFontSize(14);
                // First column
                doc.text(20, 30, 'Ticket No. ' + $('#ticket_id').text());
                doc.setFontSize(10);
                doc.text(20, 40, 'Job created on: ' + $('#born_date').text());
                doc.text(20, 45, 'Completed on: ' + $('#completed_date').text());
                doc.text(20, 50, 'Invoice rate: ' + $('#invoice_rate').text());
                doc.text(20, 55, 'Miles: ' + $('#product').text());
                doc.text(20, 60, 'Base: ' + $('#base').text());
                doc.text(20, 65, 'Silo: ' + $('#silo').text());
                doc.text(20, 70, 'Comments: ' + $('#comments').text());

                // Second column
                doc.text(20, 70, 'Comments: ' + $('#comments').text());
                doc.text(100, 40, 'Load No: ' + $('#tmsNo').text());
                doc.text(100, 45, 'Client: ' + $('#client').text());
                doc.text(100, 50, 'Address: ' + $('#address').text());
                doc.text(100, 55, 'P.O.: ' + $('#po').text());
                doc.text(100, 60, 'Facility: ' + $('#origin').text());
                doc.text(100, 65, 'Location: ' + $('#destination').text());
                doc.text(100, 70, 'B.O.L.: ' + $('#bol').text());
                doc.text(100, 75, 'Sand type: ' + $('#sand').text());
                doc.text(100, 80, 'Weight: ' + $('#weight').text());

                // First column
                doc.text(20, 80, 'To be assigned: ' + $('#assigned').text());
                doc.text(20, 85, 'Completed: ' + $('#completed').text());
                doc.text(20, 90, 'Invoice: ' + $('#invoiced').text());
                doc.text(20, 95, 'Payrolled: ' + $('#payrolled').text());

                doc.setFontSize(14);
                doc.text(20, 105, 'Driver - Truck - Millage');
                doc.setFontSize(10);
                
                doc.text(20, 115, 'Driver: ' + $('#driver').text());
                doc.text(20, 120, 'Crew: ' + $('#crew').text());
                doc.text(20, 125, 'Shift: ' + $('#shift').text());
                doc.text(20, 130, 'Truck: ' + $('#truck').text());


                 // Second column
                doc.text(100, 115, 'Trailer: ' + $('#trailer').text());
                doc.text(100, 120, 'Amount Payrolled: ' + $('#amountPayrolled').text());
                doc.text(100, 125, 'Staring milles: ' + $('#starttingMilles').text());
                doc.text(100, 130, 'Ending milles: ' + $('#endingMilles').text());

                doc.setFontSize(14);
                doc.text(20, 140, 'Timeline Events');
                doc.setFontSize(8);
                
                doc.text(20, 150, 'No.');
                doc.text(30, 150, 'Event');
                doc.text(80, 150, 'Timestamp 1')
                doc.text(110, 150, 'Timestamp 2')
                doc.text(140, 150, 'Longitude')
                doc.text(170, 150, 'Latitude')


                var actualLine = 155;
                // TMS No.
                $(".table_tms").each(function (index, value) {
                    doc.text(20, actualLine, '' + value.textContent);
                    actualLine = actualLine + 5
                });
                
                var actualLine = 155;
                // Event
                $(".table_evento").each(function (index, value) {
                    doc.text(30, actualLine, '' + value.textContent);
                    actualLine = actualLine + 5
                });

                var actualLine = 155;
                // Timestamp 1
                $(".table_date1").each(function (index, value) {
                    doc.text(80, actualLine, '' + value.textContent);
                    actualLine = actualLine + 5
                });

                var actualLine = 155;
                // Timestamp 2
                $(".table_date2").each(function (index, value) {
                    doc.text(110, actualLine, '' + value.textContent);
                    actualLine = actualLine + 5
                });

                var actualLine = 155;
                // Longitude
                $(".table_longitude").each(function (index, value) {
                    doc.text(140, actualLine, '' + value.textContent);
                    actualLine = actualLine + 5
                });

                var actualLine = 155;
                // Latitude
                $(".table_latitude").each(function (index, value) {
                    doc.text(170, actualLine, '' + value.textContent);
                    actualLine = actualLine + 5
                });

                /*var actualLine = 155;
                // Notes
                $(".table_notes").each(function (index, value) {
                    doc.text(180, actualLine, '' + value.textContent);
                    actualLine = actualLine + 5
                });*/


                
                var imgData = 'data:image/jpeg;base64,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'
                
                //doc.addImage(img , 'JPEG', horizontal, vertical, 100, 92)
                doc.addImage(imgData , 160, 240, 25, 23);
                doc.save('ticket_'+  $('#ticketId').text() +'.pdf');
            });
        });
        </script>
